<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::title}, ~{::content})}">
<head>
    <title>Report Results - Hotel Event Reservation System</title>
</head>
<body>
    <div th:fragment="content">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2><i class="fas fa-chart-bar me-2"></i><span th:text="${reportType}">Report Results</span></h2>
            <div>
                <div class="btn-group" role="group">
                    <button class="btn btn-outline-danger dropdown-toggle" data-bs-toggle="dropdown">
                        <i class="fas fa-download me-1"></i>Export
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" th:href="@{/marketing/export/PDF(reportType=${reportType})}">
                            <i class="fas fa-file-pdf me-1"></i>PDF
                        </a></li>
                        <li><a class="dropdown-item" th:href="@{/marketing/export/CSV(reportType=${reportType})}">
                            <i class="fas fa-file-csv me-1"></i>CSV
                        </a></li>
                        <li><a class="dropdown-item" th:href="@{/marketing/export/JSON(reportType=${reportType})}">
                            <i class="fas fa-file-code me-1"></i>JSON
                        </a></li>
                    </ul>
                </div>
                <a href="/marketing/reports" class="btn btn-outline-secondary ms-2">
                    <i class="fas fa-arrow-left me-1"></i>Back to Reports
                </a>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">Report Data</h5>
            </div>
            <div class="card-body">
                <div th:if="${reportData.empty}" class="text-center py-4">
                    <i class="fas fa-chart-bar fa-3x text-muted mb-3"></i>
                    <h5 class="text-muted">No data found</h5>
                    <p class="text-muted">Try adjusting your date range or filters.</p>
                </div>

                <div th:if="${!reportData.empty}" class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th th:each="key : ${reportData[0].keySet()}" th:text="${key}">Column</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="row : ${reportData}">
                                <td th:each="value : ${row.values()}" th:text="${value}">Value</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Summary Statistics -->
        <div class="row mt-4" th:if="${!reportData.empty}">
            <div class="col-md-3">
                <div class="card text-center">
                    <div class="card-body">
                        <i class="fas fa-list fa-2x text-primary mb-2"></i>
                        <h4 class="card-title" th:text="${reportData.size()}">0</h4>
                        <p class="card-text">Total Records</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-center">
                    <div class="card-body">
                        <i class="fas fa-calendar fa-2x text-success mb-2"></i>
                        <h4 class="card-title">0</h4>
                        <p class="card-text">Date Range</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-center">
                    <div class="card-body">
                        <i class="fas fa-chart-line fa-2x text-info mb-2"></i>
                        <h4 class="card-title">0%</h4>
                        <p class="card-text">Growth Rate</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-center">
                    <div class="card-body">
                        <i class="fas fa-percentage fa-2x text-warning mb-2"></i>
                        <h4 class="card-title">0%</h4>
                        <p class="card-text">Average</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
